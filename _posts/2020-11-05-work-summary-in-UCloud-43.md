---
layout: post
title: 最近工作总结(43)
date:  2020-11-05 20:15:06
categories: Work
image: /assets/images/post.jpg

---

 

### 理解redis的单线与多线程程操作

IO多路复用程序接收到用户的请求后，全部推送到一个队列里，交给文件分派器。对于后续的操作，基于 Reactor 单线程模式实现， 整个过程都在一个线程里完成，因此 Redis 被称为是单线程的操作

![img](https://img-blog.csdnimg.cn/img_convert/b64cf42106d8fa3719e88b797d427a25.png)

对于单线程的 Redis 来说，基于内存，没有锁的竞争。且命令操作时间复杂度低，因此读写速率是非常快的

Redis 是跑在单线程中的，所有的操作都是按照顺序线性执行的，但是由于读写操作等待用户输入或输出都是阻塞的，所以 I/O 操作在一般情况下往往不能直接返回，这会导致某一文件的 I/O 阻塞导致整个进程无法对其它客户提供服务，而 I/O 多路复用可以解决这个问题。但是对于大键值对这种情况，本身命令执行需要消耗大量时间，这样会阻塞redis主线程的执行，导致redis性能的下降，这种情况应该尽量避免



 